[bluestronica.github.io/C](https://bluestronica.github.io/C)

# Function

### 함수 선언과 함수 정의
- **함수 선언**
  - 함수의 구현체 없이 함수 원형만 선언해 주는 것
    - 함수의 이름
    - 반환형
    - 매개변수들의 자료형
  - 위치
    - 함수를 사용하기 전에 그 함수를 선언
    - 보통 파일의 제일 위에
- **함수 정의**
  - 실제로 함수를 구현해 놓은 것
- **함수 선언과 정의를 분리**
```c    
#include <stdio.h>

void foo(void); // 함수 선언; 전방 선언

int main(void)
{
  foo();
  getchar();
  return 0;
}

void foo(void)  // 함수 정의
{
  printf("foo called");
}
```
- **함수 선언과 정의가 하나**
```c    
#include <stdio.h>

void foo(void)  // 함수 정의(+선언)
{
  printf("foo called");
}

int main(void)
{
  foo();
  getchar();
  return 0;
}
```
- 전방 선언의 작동 원리
  - 컴파일러가 함수의 이름과 반환형 그리고 매개변수를 알 수 있음. 실제 어디로 가서 코드를 찾아야 하는지 모르니 구멍으로 남기고 컴파일 다음 단계인 링크단계에서 실제 코드 위치를 찾아서 그 비워진 자리에 구현부의 주소를 넣어준다.
  
- 평가 순서
  - 표준에 따르면, 함수 매개변수의 평가 순서는 명시되어 있지않음 즉, 컴파일러에 따라 평가 순서가 달라질 수 있음
  ```c
  printf("%d, %d\n", add(num1, num2), subtract(num1, num2);
  
  // add()와 subtract() 누가 먼저 호출되는지 보장 못함.
  ```
  - 한 함수의 매개변수들이 동일한 변수를 수정할 경우, 결과가 정의되지 않음
  ```c
  add(++i, ++i);        // 어떤 일이 일어날지 정의되지 않음
  add(i = -1, i = -1);  // 어떤 일이 일어날지 정의되지 않음
  add(i, i++);          // 어떤 일이 일어날지 정의되지 않음
  ```
  - 한 줄에서 같은 변수를 여러 번 수정하면 정의되지 않는 결과
  ```c
  i = ++i + i++;    // 어떤 일이 일어날지 정의되지 않음
  i = i++ + 1;      // 어떤 일이 일어날지 정의되지 않음
  array[i] = i++;   // 어떤 일이 일어날지 정의되지 않음
  ```
  - 연산자 우선순위와 평가 순서
    - 연산자 우선순위와 평가 순서는 서로 아무 연관이 없음
    ```c
    int result = add(num1, num2) + subtract(num1, num2) * divide(num1, num2);

    // 연산자 우선순위 *이 +보다 높으므로 
    // subtract * divide 먼저 실행할 것이라고 생각하겠지만
    // 평가 순서에서 무엇이 먼저 결과 값이 나올지 모르기 때문에
    // add 값과 subtract 값이 먼저 도출되면
    // 결과 값이 다르게 나올 수도 있다.
    ```
  - &&와 ||는 평가 순서를 강제하는 연산자
    - 논리 연산자 &&과 ||의 경우 왼쪽 피연산자를 먼저 실행
      - 왼쪽 피연산자의 평가만으로 오른쪽 피연산자를 평가 안 할수도 있음
      ```c
      hp++ || mp++  
      // 왼쪽 피연산자가 참이면 오른쪽 연산자 평가 안함
      
      exp++ && atk++
      // 왼쪽 피연산자가 거짓이면 오른쪽 연산자 평가 안함
      ```
  - 정리
    - 한 줄에 있는 피연산자들은 기본적으로 평가순서가 보장 안 된다고 생각하자!
    - 그리고 || 와 && 평가 순서 보장
    - 삼항 연산자 (?:)도 평가 순서 보장. if/else를 줄여 써 놓은 거라 생각하면 된다.
    - ;도 보장
    - 함수를 실제 실행하기 전에 모든 매개변수도 평가 됨

  































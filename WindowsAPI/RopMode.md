[bluestronica.github.io/WindowsAPI](https://bluestronica.github.io/WindowsAPI)

# 개요
- GDI Object 중 하나인 펜과 브러쉬를 활용해 도형을 그렸다. 
- 이번에는 그리기 모드와 RopMode에 대해 다뤄보겠다.
- Win32 API를 활용해 만든 프로그램의 모션은 조금 어색하다.
- 최근 컴퓨터의 처리 능력이 높아져서 덜하지만, 버벅이거나 끊기는 듯한 느낌은 어쩔 수 없이 들게된다.
- 이러한 부분을 보완하기 위해서 RopMode를 활용한다. 
- 특히, RopMode를 활용하여 애니메이션 효과를 줄 수도 있다.


# Win32 API의 그리기 모드
- 그리기 모드란, 도형이 그려질 때 원래 그려져 있던 그림과 새로 그려지는 그림과의 관계를 정의하는 것을 의미한다. 
- 이는 원래 도형이 그려져있던 곳에 새로운 도형을 그릴 때 어떻게 처리할지에 대한 것이다.

### Win32 API가 지원하는 그리기 모드

| 그리기 모드 | 설명 |
|:---|:---|
|R2_BLACK|항상 검은색|
|R2_WHITE|항상 흰색|
|R2_NOP|아무런 그리기도 하지 않는다.|
|R2_NOT|원래의 그림을 반전시킨다.|
|**R2_COPYPEN**|**원래의 그림을 덮어버리고 새 그림을 그린다.**|
|R2_NOTCOPYPEN|새 그림을 반전시켜 그린다.|
|R2_MERGEPEN|OR연산으로 두 그림을 합친다.|
|R2_MASKPEN|AND연산으로 겹치는 부분만 그린다.|
|2_XORPEN|XOR연산으로 겹치는 부분만 반전시킨다.|

- 그리기 모드의 디폴트는 R2_COPYPEN으로, 기존에 그려져 있던 그림 위에 새로운 그림을 그리면 덮어씌우게 된다.
- 그리기 모드 변경함수와 설정된 그리기 모드를 사용하기 위해 가져오는 함수를 지원하고 있다.
```c
int SetROP2(HDC hdc, int fnDrawMode);  // 그리기 모드 변경 함수
int GetROP2(HDC hdc);  // 그리기 모드를 가져오는 함수
```
- 그리기 모드 변경 함수인 SetROP2 함수의 두 번째 인자인 fnDrawMode에 위 표에 있는 그리기 모드를 넣어주시면 그리기 모드를 변경할 수 있다.


# RopMode를 활용해 선 그리기


































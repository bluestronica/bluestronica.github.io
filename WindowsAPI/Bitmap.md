[bluestronica.github.io/WindowsAPI](https://bluestronica.github.io/WindowsAPI)

# 개요
- 그래픽 그리기 위한 스톡 오브젝트를 배웠다.
- 스톡 오브젝트의 대표적인 예로 펜, 브러쉬 등이 있었지만 간단한 선, 도형을 그리는 것은 어렵지 않지만, 높은 퀄리티의 도형을 기대하기는 쉽지 않다.
- 따라서, 미리 그려져 있는 그래픽을 불러오는 방법을 생각해봐야 한다.
- 미리 작성되어 있는 비트맵을 출력하는 것에 대해 알아보자.

# 비트맵(Bitmap)
- 비트맵은 아이콘, 그림, 사진 등과 같이 디지털 이미지를 어떠한 형식을 가지고 저장된 리소스를 뜻한다.
- 어떠한 형식, 즉 특정 포맷을 가지고 저장된 파일을 의미한다. 옛날 게임이나 메탈슬러그 게임 등 주변에서 한 번쯤은 본 적이 있을 것이다.
- 이러한 비트맵을 화면에 출력하는 절차는 다음과 같다.
  - 현재 화면 DC와 호환되는 새로운 DC를 생성한다. (MemDC)
  - MemDC에 비트맵을 Select 한다.
  - BitBlt와 같은 함수를 사용해 DC간 고속 복사를 수행하여 화면에 출력한다.
- 그냥 화면에 띄우면 될 것 같지만, 위와 같이 다소 복잡한 방법으로 비트맵을 출력하고 있다. 비트맵을 메모리에 미리 저장해놓고 빠르게 가져오기 위해서 위와 같은 방법을 사용하고 있다. 
- 만약, 비트맵을 화면에 바로 띄우면 어떻게 될까? 화면에 출력하기 위해서, 먼저 비트맵을 로딩해야 합다. 비트맵의 품질이 높을 수록 큰 용량을 차지할 것이며, 이는 많은 시간을 차지할 것이다. 
- 또한, 화면에 출력하는 등 많은 시간이 걸려 프로그램이 느려질 수 있다. 특히나, 이미지기 때문에 속도의 저하는 사용자에게 크게 체감될 것이다.
- 따라서, 비트맵을 메모리에 미리 등록해놓고, 고속복사 등을 통해 가져옴으로써 빠르게 비트맵을 출력하는 것이다.

# 비트맵 출력
- 위와 같은 방법으로 사용해 비트맵을 화면에 출력한다.

### 비트맵 저장
- 먼저, 프로그램을 작성하기전에 비트맵을 워킹 디렉토리에 저장해야 한다.
- 워킹 디렉토리란, 현재 작업하고 있는 폴더를 의미한다. 
- 여기서는 .cpp 파일이 저장되어 있는 프로젝트 폴더를 의미한다. 
- 프로그램을 컴파일 할 때, 컴파일러가 인식할 수 있는 폴더 내에 비트맵을 저장해야 한다. 
- 따라서, 다음과 같이 .cpp 파일과 동일한 디렉토리에 .bmp(비트맵) 파일을 저장합니다.

### 리소스 파일 생성
- 이후, 생성한 프로젝트에서 리소스 파일을 새로 생성해야 한다. 
- 다음과 같이, "리소스 파일"을 우클릭하여 추가-새 항목 을 클릭한다.
- 그럼, 기존 소스 파일을 확인하던 오른쪽 부분에 리소스 뷰가 다음과 같이 뜬다. 
- 다시 우클릭 후, 리소스 추가를 선택한다.
- 그럼 다음과 같이 로딩된 비트맵이 뜨게 된다. 비트맵을 수정할 수 있다. (IDE(VS2019)에서 지원하는 기능으로 알고 있다.) 
- 비트맵을 보면, 4비트, 8비트 등등 다양한 비트가 지정되어 있다. 
- 이는 비트맵에 나타낼 수 있는 색깔의 조합을 의미한다. 
- 비트 수가 많을 수록 다양한 색깔을 사용하여 비트맵을 표현할 수 있지만, 당연히 비트맵에 필요한 리소스(용량)은 커지게 된다.
- 이후, 헤더파일의 resoure.h 파일에 #define IDB_BITMAP1 101 로 잘 설정이 되었는지 확인해야 한다.
- 해당 비트맵을 매크로 상수로 관리하여 개발에 용이하게 한다.

### 코드 작성
```c

```






















